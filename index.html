<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ABYSSARA</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Orbitron',sans-serif}
body{
background:radial-gradient(circle at 50% 20%,#2b1a36,#140f1f 60%);
color:#fff;
overflow:hidden;
}
#game{
display:flex;
flex-direction:column;
height:100vh;
padding:12px;
}
.topbar{
display:flex;
justify-content:space-between;
gap:8px;
}
.panel{
flex:1;
background:rgba(0,0,0,0.35);
padding:10px;
border-radius:16px;
text-align:center;
backdrop-filter:blur(8px);
}
.label{font-size:11px;color:#b2b2b2}
.value{font-size:18px;color:#ff9f43;font-weight:700}
.center{
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
position:relative;
}
.creature{
width:130px;
height:130px;
border-radius:50%;
background:radial-gradient(circle,#6c5ce7,#1d1330);
box-shadow:0 0 40px #6c5ce7;
position:relative;
animation:float 3s ease-in-out infinite;
}
@keyframes float{
0%{transform:translateY(0)}
50%{transform:translateY(-12px)}
100%{transform:translateY(0)}
}
.eye{
width:18px;
height:18px;
background:#00f5ff;
border-radius:50%;
position:absolute;
top:45px;
}
.left{left:32px}
.right{right:32px}
.depth{
margin-top:18px;
font-size:26px;
font-weight:900;
color:#ff9f43;
}
.bar{
width:95%;
height:14px;
background:#000;
border-radius:20px;
margin-top:10px;
overflow:hidden;
}
.fill{
height:100%;
width:0%;
background:linear-gradient(90deg,#ff6b6b,#ff9f43);
}
.bossbar{
width:95%;
height:12px;
background:#400000;
border-radius:20px;
margin-top:6px;
overflow:hidden;
display:none;
}
.bossfill{
height:100%;
width:100%;
background:#ff0000;
}
.button-area{
padding:10px 0;
}
button{
width:100%;
padding:18px;
border:none;
border-radius:20px;
background:linear-gradient(90deg,#ff6b6b,#ff9f43);
color:#fff;
font-size:18px;
font-weight:700;
cursor:pointer;
transition:0.15s;
}
button:active{transform:scale(0.96)}
.menu{
display:flex;
justify-content:space-between;
gap:8px;
margin-top:8px;
}
.menu div{
flex:1;
background:rgba(0,0,0,0.35);
padding:12px;
border-radius:14px;
text-align:center;
font-size:12px;
cursor:pointer;
}
.modal{
position:absolute;
bottom:0;
left:0;
width:100%;
background:#1d1330;
padding:20px;
border-radius:20px 20px 0 0;
display:none;
max-height:70%;
overflow-y:auto;
}
.upgrade{
background:#2d1b5a;
padding:12px;
border-radius:12px;
margin:6px 0;
cursor:pointer;
}
.crit{
position:absolute;
color:#ff0000;
font-weight:900;
animation:pop 0.6s forwards;
}
@keyframes pop{
0%{opacity:1;transform:translateY(0)}
100%{opacity:0;transform:translateY(-40px)}
}
</style>
</head>
<body>
<div id="game">
<div class="topbar">
<div class="panel"><div class="label">Energia</div><div class="value" id="energy"></div></div>
<div class="panel"><div class="label">Núcleo</div><div class="value" id="core"></div></div>
<div class="panel"><div class="label">Poder</div><div class="value" id="power"></div></div>
</div>

<div class="center">
<div class="creature" onclick="dig()">
<div class="eye left"></div>
<div class="eye right"></div>
</div>
<div class="depth" id="depthText">0m</div>
<div class="bar"><div class="fill" id="progress"></div></div>
<div class="bossbar" id="bossbar"><div class="bossfill" id="bossfill"></div></div>
</div>

<div class="button-area">
<button onclick="dig()">Rasgar Dimensão</button>
</div>

<div class="menu">
<div onclick="openUpgrades()">UPGRADES</div>
<div onclick="openMissions()">MISSÕES</div>
<div onclick="hardReset()">RESET</div>
</div>
</div>

<div class="modal" id="modal"></div>

<script>
let energy=100,maxEnergy=100,depth=0,core=0,power=1,combo=0;
let boss=false,bossLife=0,bossMax=0;

function save(){
localStorage.setItem("abyssara",JSON.stringify({energy,maxEnergy,depth,core,power}));
}
function load(){
let d=JSON.parse(localStorage.getItem("abyssara"));
if(d){energy=d.energy;maxEnergy=d.maxEnergy;depth=d.depth;core=d.core;power=d.power;}
}
load();

function update(){
energy=Math.min(energy,maxEnergy);
document.getElementById("energy").innerText=Math.floor(energy);
document.getElementById("core").innerText=Math.floor(core);
document.getElementById("power").innerText=power;
document.getElementById("depthText").innerText=Math.floor(depth)+"m";
document.getElementById("progress").style.width=(depth%100)+"%";
save();
}
update();

function dig(){
if(energy<=0)return;
energy-=1;

let crit=false;
let dmg=power;
if(Math.random()<0.15){
dmg*=2;
crit=true;
showCrit(dmg);
}

if(boss){
bossLife-=dmg;
document.getElementById("bossfill").style.width=(bossLife/bossMax*100)+"%";
if(bossLife<=0){
boss=false;
core+=bossMax*2;
document.getElementById("bossbar").style.display="none";
}
}else{
depth+=dmg;
core+=dmg*0.4;
if(depth%500<dmg){
spawnBoss();
}
}
update();
}

function spawnBoss(){
boss=true;
bossMax=100+depth*0.5;
bossLife=bossMax;
document.getElementById("bossbar").style.display="block";
document.getElementById("bossfill").style.width="100%";
}

function showCrit(val){
let el=document.createElement("div");
el.className="crit";
el.innerText="CRIT "+val;
el.style.left="50%";
el.style.top="40%";
document.querySelector(".center").appendChild(el);
setTimeout(()=>el.remove(),600);
}

setInterval(()=>{
if(energy<maxEnergy)energy+=0.8;
core+=power*0.1;
update();
},1000);

function openUpgrades(){
let m=document.getElementById("modal");
m.style.display="block";
m.innerHTML=`
<h3>Upgrades</h3>
<div class="upgrade" onclick="buyPower()">Aumentar Poder (Custo ${Math.floor(50*power)})</div>
<div class="upgrade" onclick="buyEnergy()">Aumentar Energia Máx (Custo ${Math.floor(80*maxEnergy/100)})</div>
<button onclick="closeModal()">Fechar</button>
`;
}

function buyPower(){
let cost=Math.floor(50*power);
if(core>=cost){core-=cost;power+=1;update();openUpgrades();}
}
function buyEnergy(){
let cost=Math.floor(80*maxEnergy/100);
if(core>=cost){core-=cost;maxEnergy+=20;update();openUpgrades();}
}

function openMissions(){
let m=document.getElementById("modal");
m.style.display="block";
m.innerHTML=`
<h3>Missões</h3>
<div class="upgrade">Alcance 1000m</div>
<div class="upgrade">Derrote 3 Boss</div>
<div class="upgrade">Ganhe 500 Núcleos</div>
<button onclick="closeModal()">Fechar</button>
`;
}
function closeModal(){document.getElementById("modal").style.display="none";}
function hardReset(){localStorage.removeItem("abyssara");location.reload();}
</script>
</body>
</html>
