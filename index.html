<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eternal Valhalla</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI}
body{
background:radial-gradient(circle at top,#1a1f2b,#0d0f14 70%);
color:#eee;
}
header{
display:flex;
justify-content:center;
gap:25px;
padding:15px;
background:#111;
border-bottom:2px solid #2c3446;
}
header button{
background:none;border:none;color:#aaa;
font-size:14px;cursor:pointer;
transition:.2s
}
header button.active{color:#f1c40f;font-weight:bold}
.section{display:none;padding:25px;max-width:1000px;margin:auto}
.section.active{display:block}
.card{
background:#1b2230;
padding:20px;
border-radius:14px;
margin-bottom:20px;
border:1px solid #2c3446;
box-shadow:0 0 30px rgba(0,0,0,.5)
}
.center{text-align:center}
button.main{
background:linear-gradient(45deg,#8e44ad,#c0392b);
border:none;padding:14px 30px;
color:#fff;font-size:15px;
border-radius:10px;cursor:pointer;
margin-top:15px;transition:.2s
}
button.main:hover{transform:scale(1.07)}
.progress{height:18px;background:#333;border-radius:10px;margin-top:10px;overflow:hidden}
.progress-inner{height:100%;width:0%;background:linear-gradient(90deg,#3498db,#9b59b6)}
.boss-bar{height:18px;background:#400;border-radius:8px;overflow:hidden}
.boss-inner{height:100%;width:100%;background:#e74c3c;transition:.3s}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.slot{
background:#222;
height:85px;border-radius:12px;
display:flex;align-items:center;justify-content:center;
font-size:11px;text-align:center;
border:2px solid #333;
cursor:pointer;transition:.2s
}
.slot:hover{transform:scale(1.05)}
.rarity-common{border-color:#777}
.rarity-rare{border-color:#3498db}
.rarity-epic{border-color:#9b59b6}
.rarity-legendary{
border-color:#f1c40f;
box-shadow:0 0 20px #f1c40f;
animation:glow 1.5s infinite alternate
}
@keyframes glow{
from{box-shadow:0 0 10px #f1c40f}
to{box-shadow:0 0 30px #f39c12}
}
.chest{
padding:15px;background:#232a3a;
margin-bottom:15px;border-radius:12px;
cursor:pointer;transition:.2s;text-align:center
}
.chest:hover{transform:scale(1.05)}
.reveal{margin-top:15px;font-size:15px;animation:pop .4s ease}
@keyframes pop{from{transform:scale(.6);opacity:0}to{transform:scale(1);opacity:1}}
svg{margin-top:10px}
</style>
</head>
<body>

<header>
<button onclick="tab('ab')" class="active">Abismo</button>
<button onclick="tab('eq')">Equip</button>
<button onclick="tab('inv')">Inventário</button>
<button onclick="tab('bau')">Baús</button>
<button onclick="tab('asc')">Ascensão</button>
</header>

<div id="ab" class="section active">
<div class="card center">
<h2>⚔ Guerreiro Nórdico</h2>

<svg width="170" height="220" viewBox="0 0 200 250">
<rect x="80" y="70" width="40" height="70" fill="#555" id="armor"/>
<polygon points="100,20 120,50 80,50" fill="#888" id="helmet"/>
<circle cx="100" cy="55" r="20" fill="#c49b6e"/>
<rect x="65" y="70" width="20" height="70" fill="#555"/>
<rect x="115" y="70" width="20" height="70" fill="#555"/>
<rect x="140" y="80" width="12" height="65" fill="#aaa" id="weapon"/>
<polygon points="80,140 120,140 100,200" fill="#444" id="cape"/>
</svg>

<p>Profundidade: <span id="depth"></span></p>
<p>Poder: <span id="power"></span></p>
<p>Ouro: <span id="gold"></span></p>

<div class="progress"><div id="xp" class="progress-inner"></div></div>
<button class="main" onclick="attack()">ATACAR</button>
</div>

<div class="card">
<h3>Boss</h3>
<p id="bossName"></p>
<div class="boss-bar"><div id="boss"></div></div>
</div>
</div>

<div id="eq" class="section">
<div class="card">
<h2>Equipamentos</h2>
<div class="grid" id="equipGrid"></div>
</div>
</div>

<div id="inv" class="section">
<div class="card">
<h2>Inventário</h2>
<div class="grid" id="invGrid"></div>
</div>
</div>

<div id="bau" class="section">
<div class="card">
<h2>Baú Rúnico (100 ouro)</h2>
<div class="chest" onclick="openChest()">ABRIR</div>
<div id="reveal"></div>
</div>
</div>

<div id="asc" class="section">
<div class="card center">
<h2>Ascensão</h2>
<p>Multiplicador: x<span id="multi"></span></p>
<button class="main" onclick="ascend()">ASCENDER (Nv 50)</button>
</div>
</div>

<script>
let s={
depth:1,power:1,gold:0,
bossHp:100,bossMax:100,
multi:1,
inv:[],
equip:{arma:null,armadura:null,amuleto:null,asa:null}
}

function tab(id){
document.querySelectorAll("header button").forEach(b=>b.classList.remove("active"))
event.target.classList.add("active")
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"))
document.getElementById(id).classList.add("active")
}

function attack(){
let dmg=s.power*s.multi
s.bossHp-=dmg
if(s.bossHp<=0){
s.depth++
s.gold+=25
s.bossMax=Math.floor(100*Math.pow(1.22,s.depth))
s.bossHp=s.bossMax
}
update();save()
}

setInterval(()=>{
let idle=s.power*s.multi*0.25
s.bossHp-=idle
if(s.bossHp<=0){
s.depth++
s.gold+=15
s.bossMax=Math.floor(100*Math.pow(1.22,s.depth))
s.bossHp=s.bossMax
}
update()
},1000)

function openChest(){
if(s.gold<100)return
s.gold-=100
let r=Math.random()
let rarity="common"
if(r>0.95)rarity="legendary"
else if(r>0.8)rarity="epic"
else if(r>0.6)rarity="rare"

let power=Math.floor(Math.random()*20+5)*({common:1,rare:2,epic:4,legendary:7}[rarity])
let types=["arma","armadura","amuleto","asa"]
let type=types[Math.floor(Math.random()*types.length)]
s.inv.push({type,rarity,power})

document.getElementById("reveal").innerHTML=
`<div class="reveal rarity-${rarity}">
${type.toUpperCase()} +${power}
</div>`
update();save()
}

function equip(i){
let it=s.inv[i]
if(!it)return
if(s.equip[it.type])s.power-=s.equip[it.type].power
s.equip[it.type]=it
s.power+=it.power
s.inv.splice(i,1)
updateVisual(it)
update();save()
}

function updateVisual(it){
let colors={
common:"#777",
rare:"#3498db",
epic:"#9b59b6",
legendary:"#f1c40f"
}
if(it.type=="arma")
document.getElementById("weapon").setAttribute("fill",colors[it.rarity])
if(it.type=="armadura")
document.getElementById("armor").setAttribute("fill",colors[it.rarity])
if(it.type=="amuleto")
document.getElementById("helmet").setAttribute("fill",colors[it.rarity])
if(it.type=="asa")
document.getElementById("cape").setAttribute("fill",colors[it.rarity])
}

function ascend(){
if(s.depth<50)return
s.multi+=0.5
s.depth=1
s.power=1
s.gold=0
s.bossMax=100
s.bossHp=100
s.inv=[]
s.equip={arma:null,armadura:null,amuleto:null,asa:null}
update();save()
}

function update(){
depth.innerText=s.depth
power.innerText=Math.floor(s.power*s.multi)
gold.innerText=s.gold
bossName.innerText="Guardião Nv."+s.depth
boss.style.width=(s.bossHp/s.bossMax*100)+"%"
multi.innerText=s.multi.toFixed(1)

let inv=document.getElementById("invGrid")
inv.innerHTML=""
for(let i=0;i<16;i++){
let d=document.createElement("div")
d.className="slot"
if(s.inv[i]){
d.classList.add("rarity-"+s.inv[i].rarity)
d.innerHTML=s.inv[i].type+"<br>+"+s.inv[i].power
d.onclick=()=>equip(i)
}
inv.appendChild(d)
}

let eq=document.getElementById("equipGrid")
eq.innerHTML=""
Object.keys(s.equip).forEach(k=>{
let d=document.createElement("div")
d.className="slot"
d.innerText=k+(s.equip[k]?"\n+"+s.equip[k].power:"")
eq.appendChild(d)
})
}

function save(){localStorage.setItem("valhallaPolido",JSON.stringify(s))}
function load(){let d=localStorage.getItem("valhallaPolido");if(d)s=JSON.parse(d);update()}
load()
</script>

</body>
</html>
